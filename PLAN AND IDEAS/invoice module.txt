Billing Module (Invoices + Quotations)

This is how ERPs (including Tally, Odoo) think about it.

üß± BILLING MODULE ‚Äî FINAL SCOPE (WITH QUOTATION)

Below is the complete, correct list of what we will build.

1Ô∏è‚É£ DOCUMENT TYPES (CORE)

We will support TWO document types, each with TWO tax modes.

üìÑ Document Types

Quotation

Invoice

üí∞ Tax Types (for both)

Tax Invoice (GST)

Non-Tax Invoice (Non-GST)

So total combinations:

Document	Tax Mode
Quotation	GST
Quotation	Non-GST
Invoice	GST
Invoice	Non-GST

‚úÖ Same structure
‚úÖ Same UI
‚úÖ Same calculations (GST differs)

2Ô∏è‚É£ QUOTATION ‚Äî WHAT IT IS & HOW IT WORKS
Purpose

Sent before sale

No stock impact

No GST liability

Can be converted to invoice later

Quotation Status

DRAFT

SENT

EXPIRED

CONVERTED

Key Rule (VERY IMPORTANT)

A quotation NEVER affects inventory or GST filing.

3Ô∏è‚É£ INVOICE ‚Äî WHAT IT IS & HOW IT WORKS
Invoice Status

DRAFT

ISSUED

CANCELLED

Key Rule

Invoice is the legal & accounting document.

4Ô∏è‚É£ QUOTATION ‚Üí INVOICE FLOW (CRITICAL DESIGN)

This is why quotation belongs here.

Flow
Quotation ‚Üí Review ‚Üí Convert ‚Üí Invoice

Conversion Rules

Copy customer details

Copy line items

Lock prices

Generate new invoice number

Quotation marked as CONVERTED

üö´ No editing quotation after conversion.

5Ô∏è‚É£ DATA MODEL (HIGH LEVEL)
Shared Fields (Quotation & Invoice)

Document Number

Document Date

Document Type (QUOTATION / INVOICE)

Tax Mode (GST / NON_GST)

Customer details

Line items

Subtotal

Discount

Tax breakdown

Grand total

Differences
Feature	Quotation	Invoice
GST Liability	‚ùå	‚úÖ
Stock Impact	‚ùå	Later
Legal Document	‚ùå	‚úÖ
Convertible	‚Üí Invoice	‚ùå
6Ô∏è‚É£ GST LOGIC (SAME ENGINE)

We will build ONE GST engine and reuse it.

GST Engine Handles:

CGST + SGST

IGST

Zero tax (Non-GST)

Line-wise calculation

Rounding

Used by:

GST Quotation

GST Invoice

7Ô∏è‚É£ NUMBERING SYSTEM (SEPARATE SEQUENCES)

Very important for accounting.

Example:

QUO-0001
QUO-0002

INV-0001
INV-0002


Each:

Per shop

Sequential

Independent

8Ô∏è‚É£ PDF GENERATION (FOR BOTH)
Quotation PDF

Marked clearly as ‚ÄúQUOTATION‚Äù

Validity date

Terms & conditions

Invoice PDF

‚ÄúTAX INVOICE‚Äù

GST breakup

Legal footer

Both:

Printable

A4

CA-friendly

9Ô∏è‚É£ EXPORTS (MAINLY FOR INVOICES)
Invoice Exports

CSV

Excel

GST filing format (later)

Quotation Exports

Optional CSV (later)

üîå 10Ô∏è‚É£ APIs (API-FIRST)
Quotation APIs

POST /api/quotations

GET /api/quotations

GET /api/quotations/:id

POST /api/quotations/:id/convert

Invoice APIs

POST /api/invoices

GET /api/invoices

GET /api/invoices/:id

POST /api/invoices/:id/cancel

üß± 11Ô∏è‚É£ UI (MINIMAL FOR NOW)

Only functional UI, not final panel.

Quotation list

Create quotation

Convert to invoice

Invoice list

Invoice preview

No permissions, no fancy dashboard.

‚ùå WHAT WE ARE STILL NOT DOING

Roles & permissions

Inventory linkage

Dealer pricing

POS

Billing plans

Reports (later)

üß† WHY THIS DESIGN IS CORRECT

‚úî Matches real business flow
‚úî Matches GST law
‚úî Avoids refactor later
‚úî Same engine for invoice & quotation
‚úî Scales cleanly into inventory & POS

This is exactly how professional ERPs are built.